apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: grafana
resources:
  - namespace.yaml
  - service-account.yaml
  - certificate.yaml
  - vault-secrets.yaml
  - http-route.yaml
  - backend-tls-policy.yaml
  - helm.yaml

configMapGenerator:
- name: grafana-dashboards
  files:
    - dashboards/Cluster-Dashboard.json
    - dashboards/Data-Pipeline.json
    - dashboards/Docker-Logs.json
    - dashboards/Kubernetes-Logs.json
  options:
    labels:
      grafana_dashboard: "yes"